<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="sunhuachuang huachuang20 homepage blog 孙华闯 个人博客 技术文章 python flask dir">
    <meta name="author" content="sunhuachuang">
    <link rel="icon" href="/images/favicon.ico">
    <title>Sunhuachuang Blog</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <div>
        <h2 class="text-success">Happy Hacking Sun. Happy Everyone !</h2>
      </div>
      <hr>
      <a href="/index.html" class="btn btn-success"><< Blog Index</a>
      <h3 class="text-primary"><b>flask项目的结构浅议</b></h3>
      <hr>
      <div class="row">
        <div class="col-sm-8">
          <h4>按功能分层次</h4>
          <p>
            <pre>
test-demo
├── config.py
├── instance
│   └── config.py
├── requirements.txt
├── run.py
└── test_demo
    ├── forms
    │   └── __init__.py
    ├── __init__.py
    ├── models
    │   ├── __init__.py
    │   └── User.py
    ├── static
    │   └── style.css
    ├── templates
    │   ├── admin
    │   │   └── base.html
    │   ├── api
    │   │   └── base.html
    │   └── base.html
    ├── utils
    │   └── __init__.py
    └── views
        ├── admin
        │   ├── __init__.py
        ├── api
        │   ├── __init__.py
        └── __init__.py
            </pre>
          </p>
          <h4>按模块分层次</h4>
          <p>
            <pre>
.
├── config.py
├── instance
│   └── config.py
├── requirements.txt
├── run.py
└── test_demo
    ├── admin
    │   ├── forms
    │   │   └── __init__.py
    │   ├── models
    │   │   ├── __init__.py
    │   │   └── User.py
    │   ├── templates
    │   │   └── base.html
    │   ├── utils
    │   │   └── __init__.py
    │   └── views
    │       └── __init__.py
    ├── api
    │   ├── forms
    │   │   └── __init__.py
    │   ├── models
    │   │   ├── __init__.py
    │   │   └── User.py
    │   ├── static
    │   │   └── style.css
    │   ├── templates
    │   │   └── base.html
    │   ├── utils
    │   │   └── __init__.py
    │   └── views
    │       └── __init__.py
    └── __init__.py
            </pre>
          </p>
          <h4>各自优点：</h4>
          <ol>
            <li>按功能分层次的优点是各种功能联系紧密， 公用的代码易于管理。 适合中小型的项目。 比如blog, cms, 简易的网上商城。</li>
            <li>按模块分层次的优点是将各个功能分离出来， 适合模块化的迁移和公用。 适合稍大的项目, 模块间联系不是很紧密的情况。</li>
          </ol>
          <h4>各自的缺点：</h4>
          <ol>
            <li>功能分层的话， 代码后期的迁移难度增加， 代码间的公用性太强， 容易牵一发而动全身。 而且当代码量增加之后， 维护性较差。</li>
            <li>模块分层的话， 代码的冗余太多， 许多可以公用的地方无法很好处理， 构造繁琐， 工期较长。</li>
          </ol>
          <hr>
          <h4>flask结构常见文件的作用</h4>
          <ol>
            <li><strong>config.py</strong> 主要存放配置信息。 比如DEBUG, mysql, sercertkey等。 可以通过flask的 app.config.from_object('config') 自动导入。</li>
            <li><strong>instance/config.py</strong> 主要是私人的信息， 可以通过 flask 提供的 app.config.from_pyfile('config.py') 覆盖前者的配置。</li>
            <li><strong>requirements</strong> 存放所需要引入的包。</li>
            <li><strong>run.py</strong> 运行文件， 加入一些运行配置， 比如使用gunicorn配置， 也可以通过添加manager.py文件管理。</li>
            <li><strong>views</strong> 文件存放路由信息， 俗称蓝图。 类似于MVC架构中的controllers。</li>
            <li><strong>models</strong> 数据存放与处理的信息。 类似MVC中的Models。</li>
            <li><strong>forms</strong> 表单存放的位置。</li>
            <li><strong>static</strong> 静态文件的存放。 images/js/css</li>
            <li><strong>templates</strong> jinja模板文件。</li>
            <li><strong>utils</strong> 一些常用的方法集合。</li>
          </ol>
          <nav>
            <ul class="pager">
              <li style="float:left;padding-left:2em;"><a href="#"><< </a></li>
              <li style="float:right;padding-right:2em;"><a href="/js/redux-example-analysis.html">redux 案例分析 >></a></li>
            </ul>
          </nav>
        </div>
        <div class="col-sm-3 col-sm-offset-1">
          <div>
            <h4>About Me</h4>
            <p>Name: <em>sunhuachuang (孙华闯)</em></p>
            <p><a href="/about_en.html">English Introduction</a> <a href="/about_zh.html">中文简介</a></p>
          </div>
          <hr>
          <div>
            <h4>Archives</h4>
            <ol class="list-unstyled">
              <li><a href="/2018.html">2018</a></li>
              <li><a href="/2017.html">2017</a></li>
              <li><a href="/2016.html">2016</a></li>
            </ol>
          </div>
          <hr>
          <div>
            <h4>Elsewhere</h4>
            <ol class="list-unstyled">
              <li><p class="text-success">E: huachuang20@gmail.com</p></li>
              <li><a href="https://github.com/sunhuachuang">GitHub</a></li>
              <li><a href="http://weibo.com/u/3268988844?is_all=1">WeiBo</a></li>
              <li><a href="https://www.linkedin.com/in/huachuang-sun-6548a3105">Linkedin</a></li>
              <li><a href="https://twitter.com/huachuang20">Twitter</a></li>
            </ol>
          </div>
        </div>
      </div>
      <hr>
    </div>
  </body>
</html>
